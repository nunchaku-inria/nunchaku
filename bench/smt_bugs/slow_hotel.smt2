; expected: sat
; outcome: timeout

; cvc4 --finite-model-find slow_hotel.smt2

(set-option :produce-models true)
(set-option :interactive-mode true)
(set-logic ALL_SUPPORTED)
(declare-datatypes () ((state_ (S6_ ) (S5_ ) (S4_ ) (S3_ ) (S2_ ) (S1_ ))))
(declare-fun reachH_ (state_) Bool)
(declare-datatypes () ((guest_ (G2_ ) (G1_ ))))
(declare-datatypes () ((option_ (Some_ (_select_Some__0 guest_)) (None_ ))))
(declare-datatypes () ((room_ (R1_ ))))
(declare-fun owns_ (state_ room_) option_)
(declare-datatypes () ((key_ (K4_ ) (K3_ ) (K2_ ) (K1_ ))))
(declare-fun currk_ (state_ room_) key_)
(declare-fun issued_ (state_ key_) Bool)
(declare-datatypes () ((card_ (C5_ ) (C4_ ) (C3_ ) (C2_ ) (C1_ ))))
(declare-fun cards_ (state_ guest_ card_) Bool)
(declare-fun roomk_ (state_ room_) key_)
(declare-fun isin_ (state_ room_ guest_) Bool)
(declare-fun safe_ (state_ room_) Bool)
(declare-fun next_ (state_ state_) Bool)
(assert
 (forall ((s1/277 state_))
    (forall ((sH/278 state_))
       (= (next_ s1/277 sH/278)
        (or (and (= s1/277 S1_) (= sH/278 S2_)) 
         (and (= s1/277 S2_) (= sH/278 S3_)) 
         (and (= s1/277 S3_) (= sH/278 S4_)) 
         (and (= s1/277 S4_) (= sH/278 S5_)) 
         (and (= s1/277 S5_) (= sH/278 S6_)))))))
(declare-fun fst_ (card_) key_)
(declare-fun snd_ (card_) key_)
(declare-fun buggy_ () Bool)
(declare-fun nun_sk_0_ (state_) state_)
(declare-fun nun_sk_1_ (key_ state_) room_)
(declare-fun nun_sk_2_ (state_) state_)
(declare-fun nun_sk_3_ (state_) state_)
(declare-fun nun_sk_4_ (state_) key_)
(declare-fun nun_sk_5_ (state_) card_)
(declare-fun nun_sk_6_ (state_) room_)
(declare-fun nun_sk_7_ (state_) guest_)
(declare-fun nun_sk_8_ (state_) state_)
(declare-fun nun_sk_9_ (state_) state_)
(declare-fun nun_sk_10_ (state_) guest_)
(declare-fun nun_sk_11_ (state_) card_)
(declare-fun nun_sk_12_ (state_) key_)
(declare-fun nun_sk_13_ (state_) key_)
(declare-fun nun_sk_14_ (state_) room_)
(declare-fun nun_sk_15_ (state_) room_)
(declare-fun nun_sk_16_ (room_ state_) room_)
(declare-fun nun_sk_17_ (room_ state_) guest_)
(declare-fun nun_sk_18_ (state_) state_)
(declare-fun nun_sk_19_ (state_) state_)
(declare-fun nun_sk_20_ (state_) room_)
(declare-fun nun_sk_21_ (state_) guest_)
(assert
 (forall ((a/279 state_))
    (=> (reachH_ a/279)
     (or
      (and (= a/279 (nun_sk_0_ a/279)) (= (nun_sk_0_ a/279) S1_) 
       (forall ((r1/732 room_)) (= (owns_ (nun_sk_0_ a/279) r1/732) None_)) 
       (forall ((r1/733 room_))
          (forall ((rH/734 room_))
             (=>
              (= (currk_ (nun_sk_0_ a/279) r1/733)
               (currk_ (nun_sk_0_ a/279) rH/734))
              (= r1/733 rH/734)))) 
       (forall ((k/735 key_))
          (and
           (=> (issued_ (nun_sk_0_ a/279) k/735)
            (= (currk_ (nun_sk_0_ a/279) (nun_sk_1_ k/735 a/279)) k/735)) 
           (=>
            (exists ((r1/739 room_))
               (= (currk_ (nun_sk_0_ a/279) r1/739) k/735))
            (issued_ (nun_sk_0_ a/279) k/735)))) 
       (forall ((g1/740 guest_))
          (forall ((c/741 card_))
             (not (cards_ (nun_sk_0_ a/279) g1/740 c/741)))) 
       (forall ((r1/742 room_))
          (= (roomk_ (nun_sk_0_ a/279) r1/742)
           (currk_ (nun_sk_0_ a/279) r1/742))) 
       (forall ((r1/743 room_))
          (forall ((g1/744 guest_))
             (not (isin_ (nun_sk_0_ a/279) r1/743 g1/744)))) 
       (forall ((r1/745 room_)) (safe_ (nun_sk_0_ a/279) r1/745))) 
      (and (= a/279 (nun_sk_3_ a/279)) 
       (next_ (nun_sk_2_ a/279) (nun_sk_3_ a/279)) 
       (reachH_ (nun_sk_2_ a/279)) 
       (not (issued_ (nun_sk_2_ a/279) (nun_sk_4_ a/279))) 
       (= (fst_ (nun_sk_5_ a/279))
        (currk_ (nun_sk_2_ a/279) (nun_sk_6_ a/279))) 
       (= (snd_ (nun_sk_5_ a/279)) (nun_sk_4_ a/279)) 
       (forall ((r1/755 room_))
          (= (owns_ (nun_sk_3_ a/279) r1/755)
           (ite (= r1/755 (nun_sk_6_ a/279)) (Some_ (nun_sk_7_ a/279))
             (owns_ (nun_sk_2_ a/279) r1/755)))) 
       (forall ((r1/756 room_))
          (= (currk_ (nun_sk_3_ a/279) r1/756)
           (ite (= r1/756 (nun_sk_6_ a/279)) (nun_sk_4_ a/279)
             (currk_ (nun_sk_2_ a/279) r1/756)))) 
       (forall ((k/757 key_))
          (and
           (=> (issued_ (nun_sk_3_ a/279) k/757)
            (or (= k/757 (nun_sk_4_ a/279)) 
             (issued_ (nun_sk_2_ a/279) k/757))) 
           (=>
            (or (= k/757 (nun_sk_4_ a/279)) 
             (issued_ (nun_sk_2_ a/279) k/757))
            (issued_ (nun_sk_3_ a/279) k/757)))) 
       (forall ((g1/758 guest_))
          (forall ((c/759 card_))
             (and
              (=> (cards_ (nun_sk_3_ a/279) g1/758 c/759)
               (or
                (and (= g1/758 (nun_sk_7_ a/279)) 
                 (= c/759 (nun_sk_5_ a/279))) 
                (cards_ (nun_sk_2_ a/279) g1/758 c/759))) 
              (=>
               (or
                (and (= g1/758 (nun_sk_7_ a/279)) 
                 (= c/759 (nun_sk_5_ a/279))) 
                (cards_ (nun_sk_2_ a/279) g1/758 c/759))
               (cards_ (nun_sk_3_ a/279) g1/758 c/759))))) 
       (forall ((r1/760 room_))
          (= (roomk_ (nun_sk_3_ a/279) r1/760)
           (roomk_ (nun_sk_2_ a/279) r1/760))) 
       (forall ((r1/761 room_))
          (forall ((g1/762 guest_))
             (and
              (=> (isin_ (nun_sk_3_ a/279) r1/761 g1/762)
               (isin_ (nun_sk_2_ a/279) r1/761 g1/762)) 
              (=> (isin_ (nun_sk_2_ a/279) r1/761 g1/762)
               (isin_ (nun_sk_3_ a/279) r1/761 g1/762))))) 
       (forall ((r1/763 room_))
          (and
           (=> (safe_ (nun_sk_3_ a/279) r1/763)
            (and (not (= r1/763 (nun_sk_6_ a/279))) 
             (safe_ (nun_sk_2_ a/279) r1/763))) 
           (=>
            (and (not (= r1/763 (nun_sk_6_ a/279))) 
             (safe_ (nun_sk_2_ a/279) r1/763))
            (safe_ (nun_sk_3_ a/279) r1/763))))) 
      (and (= a/279 (nun_sk_9_ a/279)) 
       (next_ (nun_sk_8_ a/279) (nun_sk_9_ a/279)) 
       (reachH_ (nun_sk_8_ a/279)) 
       (cards_ (nun_sk_8_ a/279) (nun_sk_10_ a/279) (nun_sk_11_ a/279)) 
       (= (fst_ (nun_sk_11_ a/279)) (nun_sk_12_ a/279)) 
       (= (snd_ (nun_sk_11_ a/279)) (nun_sk_13_ a/279)) 
       (or
        (= (roomk_ (nun_sk_8_ a/279) (nun_sk_14_ a/279)) (nun_sk_12_ a/279)) 
        (= (roomk_ (nun_sk_8_ a/279) (nun_sk_14_ a/279)) (nun_sk_13_ a/279))) 
       (forall ((ra/805 room_))
          (= (owns_ (nun_sk_9_ a/279) ra/805)
           (owns_ (nun_sk_8_ a/279) ra/805))) 
       (forall ((ra/806 room_))
          (= (currk_ (nun_sk_9_ a/279) ra/806)
           (currk_ (nun_sk_8_ a/279) ra/806))) 
       (forall ((k/807 key_))
          (and
           (=> (issued_ (nun_sk_9_ a/279) k/807)
            (issued_ (nun_sk_8_ a/279) k/807)) 
           (=> (issued_ (nun_sk_8_ a/279) k/807)
            (issued_ (nun_sk_9_ a/279) k/807)))) 
       (forall ((g1/808 guest_))
          (forall ((c/809 card_))
             (and
              (=> (cards_ (nun_sk_9_ a/279) g1/808 c/809)
               (cards_ (nun_sk_8_ a/279) g1/808 c/809)) 
              (=> (cards_ (nun_sk_8_ a/279) g1/808 c/809)
               (cards_ (nun_sk_9_ a/279) g1/808 c/809))))) 
       (forall ((ra/810 room_))
          (= (roomk_ (nun_sk_9_ a/279) ra/810)
           (ite (= ra/810 (nun_sk_15_ a/279)) (nun_sk_13_ a/279)
             (roomk_ (nun_sk_8_ a/279) ra/810)))) 
       (forall ((ra/811 room_))
          (forall ((g1/812 guest_))
             (and
              (=> (isin_ (nun_sk_9_ a/279) ra/811 g1/812)
               (or
                (and (= ra/811 (nun_sk_15_ a/279)) 
                 (= g1/812 (nun_sk_10_ a/279))) 
                (isin_ (nun_sk_8_ a/279) ra/811 g1/812))) 
              (=>
               (or
                (and (= ra/811 (nun_sk_15_ a/279)) 
                 (= g1/812 (nun_sk_10_ a/279))) 
                (isin_ (nun_sk_8_ a/279) ra/811 g1/812))
               (isin_ (nun_sk_9_ a/279) ra/811 g1/812))))) 
       (forall ((ra/813 room_))
          (and
           (=> (safe_ (nun_sk_9_ a/279) ra/813)
            (ite (= ra/813 (nun_sk_15_ a/279))
              (or
               (and
                (= (owns_ (nun_sk_8_ a/279) (nun_sk_15_ a/279))
                 (Some_ (nun_sk_10_ a/279))) 
                (forall ((rb/844 room_))
                   (forall ((g1/845 guest_))
                      (not (isin_ (nun_sk_8_ a/279) rb/844 g1/845)))) 
                (or buggy_ 
                 (= (nun_sk_13_ a/279)
                  (currk_ (nun_sk_8_ a/279) (nun_sk_15_ a/279))))) 
               (safe_ (nun_sk_8_ a/279) (nun_sk_15_ a/279)))
              (safe_ (nun_sk_8_ a/279) ra/813))) 
           (=>
            (ite (= ra/813 (nun_sk_15_ a/279))
              (or
               (and
                (= (owns_ (nun_sk_8_ a/279) (nun_sk_15_ a/279))
                 (Some_ (nun_sk_10_ a/279))) 
                (not
                 (isin_ (nun_sk_8_ a/279) (nun_sk_16_ ra/813 a/279) 
                  (nun_sk_17_ ra/813 a/279))) 
                (or buggy_ 
                 (= (nun_sk_13_ a/279)
                  (currk_ (nun_sk_8_ a/279) (nun_sk_15_ a/279))))) 
               (safe_ (nun_sk_8_ a/279) (nun_sk_15_ a/279)))
              (safe_ (nun_sk_8_ a/279) ra/813))
            (safe_ (nun_sk_9_ a/279) ra/813))))) 
      (and (= a/279 (nun_sk_19_ a/279)) 
       (next_ (nun_sk_18_ a/279) (nun_sk_19_ a/279)) 
       (reachH_ (nun_sk_18_ a/279)) 
       (isin_ (nun_sk_18_ a/279) (nun_sk_20_ a/279) (nun_sk_21_ a/279)) 
       (forall ((r1/855 room_))
          (= (owns_ (nun_sk_19_ a/279) r1/855)
           (owns_ (nun_sk_18_ a/279) r1/855))) 
       (forall ((r1/856 room_))
          (= (currk_ (nun_sk_19_ a/279) r1/856)
           (currk_ (nun_sk_18_ a/279) r1/856))) 
       (forall ((k/857 key_))
          (and
           (=> (issued_ (nun_sk_19_ a/279) k/857)
            (issued_ (nun_sk_18_ a/279) k/857)) 
           (=> (issued_ (nun_sk_18_ a/279) k/857)
            (issued_ (nun_sk_19_ a/279) k/857)))) 
       (forall ((g1/858 guest_))
          (forall ((c/859 card_))
             (and
              (=> (cards_ (nun_sk_19_ a/279) g1/858 c/859)
               (cards_ (nun_sk_18_ a/279) g1/858 c/859)) 
              (=> (cards_ (nun_sk_18_ a/279) g1/858 c/859)
               (cards_ (nun_sk_19_ a/279) g1/858 c/859))))) 
       (forall ((r1/860 room_))
          (= (roomk_ (nun_sk_19_ a/279) r1/860)
           (roomk_ (nun_sk_18_ a/279) r1/860))) 
       (forall ((r1/861 room_))
          (forall ((g1/862 guest_))
             (and
              (=> (isin_ (nun_sk_19_ a/279) r1/861 g1/862)
               (and
                (or (not (= r1/861 (nun_sk_20_ a/279))) 
                 (not (= g1/862 (nun_sk_21_ a/279)))) 
                (isin_ (nun_sk_18_ a/279) r1/861 g1/862))) 
              (=>
               (and
                (or (not (= r1/861 (nun_sk_20_ a/279))) 
                 (not (= g1/862 (nun_sk_21_ a/279)))) 
                (isin_ (nun_sk_18_ a/279) r1/861 g1/862))
               (isin_ (nun_sk_19_ a/279) r1/861 g1/862))))) 
       (forall ((r1/863 room_))
          (and
           (=> (safe_ (nun_sk_19_ a/279) r1/863)
            (safe_ (nun_sk_18_ a/279) r1/863)) 
           (=> (safe_ (nun_sk_18_ a/279) r1/863)
            (safe_ (nun_sk_19_ a/279) r1/863)))))))))
(declare-fun s_ () state_)
(declare-fun r_ () room_)
(declare-fun g_ () guest_)
(assert
 (not
  (=> (and buggy_ (reachH_ s_) (safe_ s_ r_) (isin_ s_ r_ g_))
   (= (owns_ s_ r_) (Some_ g_)))))
(check-sat)
