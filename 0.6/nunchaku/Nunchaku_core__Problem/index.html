<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Nunchaku_core__Problem (nunchaku.Nunchaku_core__Problem)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../index.html">nunchaku</a> &#x00BB; Nunchaku_core__Problem</nav><h1>Module <code>Nunchaku_core__Problem</code></h1><h2 id="top-level-statements-(with-locations)"><a href="#top-level-statements-(with-locations)" class="anchor"></a>Top-Level Statements (with locations)</h2><nav class="toc"><ul><li><a href="#problem:-a-set-of-statements">Problem: a Set of Statements</a></li><li><a href="#result">Result</a></li></ul></nav></header><dl><dt class="spec type" id="type-metadata"><a href="#type-metadata" class="anchor"></a><code><span class="keyword">type </span>metadata</code><code><span class="keyword"> = </span><a href="../Nunchaku_core/ProblemMetadata/index.html#type-t">Nunchaku_core.ProblemMetadata.t</a></code></dt><dt class="spec type" id="type-loc"><a href="#type-loc" class="anchor"></a><code><span class="keyword">type </span>loc</code><code><span class="keyword"> = </span><a href="../Nunchaku_core/Location/index.html#type-t">Nunchaku_core.Location.t</a></code></dt><dt class="spec type" id="type-id"><a href="#type-id" class="anchor"></a><code><span class="keyword">type </span>id</code><code><span class="keyword"> = </span><a href="../Nunchaku_core/ID/index.html#type-t">Nunchaku_core.ID.t</a></code></dt><dt class="spec type" id="type-printer"><a href="#type-printer" class="anchor"></a><code><span class="keyword">type </span>'a printer</code><code><span class="keyword"> = </span>Stdlib.Format.formatter <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> unit</code></dt><dt class="spec type" id="type-to_sexp"><a href="#type-to_sexp" class="anchor"></a><code><span class="keyword">type </span>'a to_sexp</code><code><span class="keyword"> = </span><span class="type-var">'a</span> <span>&#45;&gt;</span> <a href="../Nunchaku_core/Sexp_lib/index.html#type-t">Nunchaku_core.Sexp_lib.t</a></code></dt><dt class="spec type" id="type-or_error"><a href="#type-or_error" class="anchor"></a><code><span class="keyword">type </span>'a or_error</code><code><span class="keyword"> = </span>(<span class="type-var">'a</span>, string) CCResult.t</code></dt></dl><section><header><h2 id="problem:-a-set-of-statements"><a href="#problem:-a-set-of-statements" class="anchor"></a>Problem: a Set of Statements</h2></header><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type </span>('t, 'ty) t</code><code><span class="keyword"> = </span><span class="keyword">private </span></code><code>{</code><table class="record"><tr id="type-t.statements" class="anchored"><td class="def field"><a href="#type-t.statements" class="anchor"></a><code>statements : (<span class="type-var">'t</span>, <span class="type-var">'ty</span>) <a href="../Nunchaku_core/Statement/index.html#type-t">Nunchaku_core.Statement.t</a> CCVector.ro_vector;</code></td></tr><tr id="type-t.metadata" class="anchored"><td class="def field"><a href="#type-t.metadata" class="anchor"></a><code>metadata : <a href="index.html#type-metadata">metadata</a>;</code></td></tr></table><code>}</code></dt></dl><dl><dt class="spec value" id="val-make"><a href="#val-make" class="anchor"></a><code><span class="keyword">val </span>make : meta:<a href="index.html#type-metadata">metadata</a> <span>&#45;&gt;</span> (<span class="type-var">'t</span>, <span class="type-var">'ty</span>) <a href="../Nunchaku_core/Statement/index.html#type-t">Nunchaku_core.Statement.t</a> CCVector.ro_vector <span>&#45;&gt;</span> (<span class="type-var">'t</span>, <span class="type-var">'ty</span>) <a href="index.html#type-t">t</a></code></dt><dd><p>Build a problem from statements</p></dd></dl><dl><dt class="spec value" id="val-of_list"><a href="#val-of_list" class="anchor"></a><code><span class="keyword">val </span>of_list : meta:<a href="index.html#type-metadata">metadata</a> <span>&#45;&gt;</span> (<span class="type-var">'t</span>, <span class="type-var">'ty</span>) <a href="../Nunchaku_core/Statement/index.html#type-t">Nunchaku_core.Statement.t</a> list <span>&#45;&gt;</span> (<span class="type-var">'t</span>, <span class="type-var">'ty</span>) <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-statements"><a href="#val-statements" class="anchor"></a><code><span class="keyword">val </span>statements : (<span class="type-var">'t</span>, <span class="type-var">'ty</span>) <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> (<span class="type-var">'t</span>, <span class="type-var">'ty</span>) <a href="../Nunchaku_core/Statement/index.html#type-t">Nunchaku_core.Statement.t</a> CCVector.ro_vector</code></dt><dt class="spec value" id="val-metadata"><a href="#val-metadata" class="anchor"></a><code><span class="keyword">val </span>metadata : (<span class="type-var">_</span>, <span class="type-var">_</span>) <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-metadata">metadata</a></code></dt><dt class="spec value" id="val-update_meta"><a href="#val-update_meta" class="anchor"></a><code><span class="keyword">val </span>update_meta : (<span class="type-var">'t</span>, <span class="type-var">'ty</span>) <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> (<a href="index.html#type-metadata">metadata</a> <span>&#45;&gt;</span> <a href="index.html#type-metadata">metadata</a>) <span>&#45;&gt;</span> (<span class="type-var">'t</span>, <span class="type-var">'ty</span>) <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-add_sat_means_unknown"><a href="#val-add_sat_means_unknown" class="anchor"></a><code><span class="keyword">val </span>add_sat_means_unknown : bool <span>&#45;&gt;</span> (<span class="type-var">'t</span>, <span class="type-var">'ty</span>) <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> (<span class="type-var">'t</span>, <span class="type-var">'ty</span>) <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-set_sat_means_unknown"><a href="#val-set_sat_means_unknown" class="anchor"></a><code><span class="keyword">val </span>set_sat_means_unknown : (<span class="type-var">'t</span>, <span class="type-var">'ty</span>) <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> (<span class="type-var">'t</span>, <span class="type-var">'ty</span>) <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-add_unsat_means_unknown"><a href="#val-add_unsat_means_unknown" class="anchor"></a><code><span class="keyword">val </span>add_unsat_means_unknown : bool <span>&#45;&gt;</span> (<span class="type-var">'t</span>, <span class="type-var">'ty</span>) <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> (<span class="type-var">'t</span>, <span class="type-var">'ty</span>) <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-set_unsat_means_unknown"><a href="#val-set_unsat_means_unknown" class="anchor"></a><code><span class="keyword">val </span>set_unsat_means_unknown : (<span class="type-var">'t</span>, <span class="type-var">'ty</span>) <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> (<span class="type-var">'t</span>, <span class="type-var">'ty</span>) <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-iter_statements"><a href="#val-iter_statements" class="anchor"></a><code><span class="keyword">val </span>iter_statements : f:((<span class="type-var">'t</span>, <span class="type-var">'ty</span>) <a href="../Nunchaku_core/Statement/index.html#type-t">Nunchaku_core.Statement.t</a> <span>&#45;&gt;</span> unit) <span>&#45;&gt;</span> (<span class="type-var">'t</span>, <span class="type-var">'ty</span>) <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-map_statements"><a href="#val-map_statements" class="anchor"></a><code><span class="keyword">val </span>map_statements : ?&#8288;prelude:(<span class="type-var">'t2</span>, <span class="type-var">'ty2</span>) <a href="../Nunchaku_core/Statement/index.html#type-t">Nunchaku_core.Statement.t</a> list <span>&#45;&gt;</span> f:((<span class="type-var">'t</span>, <span class="type-var">'ty</span>) <a href="../Nunchaku_core/Statement/index.html#type-t">Nunchaku_core.Statement.t</a> <span>&#45;&gt;</span> (<span class="type-var">'t2</span>, <span class="type-var">'ty2</span>) <a href="../Nunchaku_core/Statement/index.html#type-t">Nunchaku_core.Statement.t</a>) <span>&#45;&gt;</span> (<span class="type-var">'t</span>, <span class="type-var">'ty</span>) <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> (<span class="type-var">'t2</span>, <span class="type-var">'ty2</span>) <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-fold_map_statements"><a href="#val-fold_map_statements" class="anchor"></a><code><span class="keyword">val </span>fold_map_statements : f:(<span class="type-var">'acc</span> <span>&#45;&gt;</span> (<span class="type-var">'t</span>, <span class="type-var">'ty</span>) <a href="../Nunchaku_core/Statement/index.html#type-t">Nunchaku_core.Statement.t</a> <span>&#45;&gt;</span> <span class="type-var">'acc</span><span class="keyword"> * </span>(<span class="type-var">'t2</span>, <span class="type-var">'ty2</span>) <a href="../Nunchaku_core/Statement/index.html#type-t">Nunchaku_core.Statement.t</a>) <span>&#45;&gt;</span> x:<span class="type-var">'acc</span> <span>&#45;&gt;</span> (<span class="type-var">'t</span>, <span class="type-var">'ty</span>) <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'acc</span><span class="keyword"> * </span>(<span class="type-var">'t2</span>, <span class="type-var">'ty2</span>) <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-flat_map_statements"><a href="#val-flat_map_statements" class="anchor"></a><code><span class="keyword">val </span>flat_map_statements : ?&#8288;prelude:(<span class="type-var">'t2</span>, <span class="type-var">'ty2</span>) <a href="../Nunchaku_core/Statement/index.html#type-t">Nunchaku_core.Statement.t</a> list <span>&#45;&gt;</span> f:((<span class="type-var">'t</span>, <span class="type-var">'ty</span>) <a href="../Nunchaku_core/Statement/index.html#type-t">Nunchaku_core.Statement.t</a> <span>&#45;&gt;</span> (<span class="type-var">'t2</span>, <span class="type-var">'ty2</span>) <a href="../Nunchaku_core/Statement/index.html#type-t">Nunchaku_core.Statement.t</a> list) <span>&#45;&gt;</span> (<span class="type-var">'t</span>, <span class="type-var">'ty</span>) <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> (<span class="type-var">'t2</span>, <span class="type-var">'ty2</span>) <a href="index.html#type-t">t</a></code></dt><dd><p>Map each statement to a list of statements, and flatten the result into a new problem.</p><dl><dt>parameter prelude</dt><dd><p>if provided, this is added at the beginning of the result</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-map"><a href="#val-map" class="anchor"></a><code><span class="keyword">val </span>map : term:(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>) <span>&#45;&gt;</span> ty:(<span class="type-var">'tya</span> <span>&#45;&gt;</span> <span class="type-var">'tyb</span>) <span>&#45;&gt;</span> (<span class="type-var">'a</span>, <span class="type-var">'tya</span>) <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> (<span class="type-var">'b</span>, <span class="type-var">'tyb</span>) <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-map_with"><a href="#val-map_with" class="anchor"></a><code><span class="keyword">val </span>map_with : ?&#8288;before:(unit <span>&#45;&gt;</span> (<span class="type-var">'b</span>, <span class="type-var">'tyb</span>) <a href="../Nunchaku_core/Statement/index.html#type-t">Nunchaku_core.Statement.t</a> list) <span>&#45;&gt;</span> ?&#8288;after:(unit <span>&#45;&gt;</span> (<span class="type-var">'b</span>, <span class="type-var">'tyb</span>) <a href="../Nunchaku_core/Statement/index.html#type-t">Nunchaku_core.Statement.t</a> list) <span>&#45;&gt;</span> term:(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>) <span>&#45;&gt;</span> ty:(<span class="type-var">'tya</span> <span>&#45;&gt;</span> <span class="type-var">'tyb</span>) <span>&#45;&gt;</span> (<span class="type-var">'a</span>, <span class="type-var">'tya</span>) <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> (<span class="type-var">'b</span>, <span class="type-var">'tyb</span>) <a href="index.html#type-t">t</a></code></dt><dd><p><code>map_with ~add ~term ~ty pb</code> is similar to <code>map ~term ~ty pb</code>, but after processing each statement <code>st</code>, <code>after ()</code> and <code>before()</code> are called, and the statements they return are added respectively before or after the translation of <code>st</code>.</p></dd></dl><dl><dt class="spec module" id="module-Print"><a href="#module-Print" class="anchor"></a><code><span class="keyword">module </span><a href="Print/index.html">Print</a> : <span class="keyword">functor</span> (<a href="Print/argument-1-P1/index.html">P1</a> : <a href="../Nunchaku_core/TermInner/index.html#module-type-PRINT">Nunchaku_core.TermInner.PRINT</a>) <span>&#45;&gt;</span> <span class="keyword">functor</span> (<a href="Print/argument-2-P2/index.html">P2</a> : <a href="../Nunchaku_core/TermInner/index.html#module-type-PRINT">Nunchaku_core.TermInner.PRINT</a>) <span>&#45;&gt;</span> <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Printer for a problem</p></dd></dl><div class="spec module" id="module-P"><a href="#module-P" class="anchor"></a><code><span class="keyword">module </span><a href="P/index.html">P</a> : <span class="keyword">module type of </span><span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><dl><dt class="spec module" id="module-Convert"><a href="#module-Convert" class="anchor"></a><code><span class="keyword">module </span><a href="Convert/index.html">Convert</a> : <span class="keyword">functor</span> (<a href="Convert/argument-1-T1/index.html">T1</a> : <a href="../Nunchaku_core/TermInner/index.html#module-type-REPR">Nunchaku_core.TermInner.REPR</a>) <span>&#45;&gt;</span> <span class="keyword">functor</span> (<a href="Convert/argument-2-T2/index.html">T2</a> : <a href="../Nunchaku_core/TermInner/index.html#module-type-BUILD">Nunchaku_core.TermInner.BUILD</a>) <span>&#45;&gt;</span> <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd></dd></dl><dl><dt class="spec exception" id="exception-IllFormed"><a href="#exception-IllFormed" class="anchor"></a><code><span class="keyword">exception </span></code><code><span class="exception">IllFormed</span><span class="keyword"> of </span>string</code></dt><dd><p>Ill-formed problem</p></dd></dl><dl><dt class="spec value" id="val-goal"><a href="#val-goal" class="anchor"></a><code><span class="keyword">val </span>goal : (<span class="type-var">'t</span>, <span class="type-var">_</span>) <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'t</span></code></dt><dd><p><code>goal pb</code> returns the unique goal of <code>pb</code>, or fails. A problem that doesn't have a single goal is ill-formed</p><dl><dt>raises IllFormed</dt><dd><p>if the problem doesn't have exactly one goal</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-env"><a href="#val-env" class="anchor"></a><code><span class="keyword">val </span>env : ?&#8288;init:(<span class="type-var">'t</span>, <span class="type-var">'ty</span>) <a href="../Nunchaku_core/Env/index.html#type-t">Nunchaku_core.Env.t</a> <span>&#45;&gt;</span> (<span class="type-var">'t</span>, <span class="type-var">'ty</span>) <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> (<span class="type-var">'t</span>, <span class="type-var">'ty</span>) <a href="../Nunchaku_core/Env/index.html#type-t">Nunchaku_core.Env.t</a></code></dt><dd><p>Build an environment defining/declaring every symbol of the problem.</p><dl><dt>parameter init</dt><dd><p>initial env, if any</p></dd></dl><dl><dt>raises IllFormed</dt><dd><p>if some declarations/definitions do not agree</p></dd></dl></dd></dl></section><section><header><h2 id="result"><a href="#result" class="anchor"></a>Result</h2></header><div class="spec module" id="module-Res"><a href="#module-Res" class="anchor"></a><code><span class="keyword">module </span><a href="Res/index.html">Res</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div></section></div></body></html>