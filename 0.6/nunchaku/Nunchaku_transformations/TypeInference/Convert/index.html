<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Convert (nunchaku.Nunchaku_transformations.TypeInference.Convert)</title><link rel="stylesheet" href="../../../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../../../index.html">nunchaku</a> &#x00BB; <a href="../../index.html">Nunchaku_transformations</a> &#x00BB; <a href="../index.html">TypeInference</a> &#x00BB; Convert</nav><h1>Module <code>TypeInference.Convert</code></h1></header><h3 class="heading">Parameters</h3><dl><code><a href="argument-1-T/index.html">T</a> : <a href="../../../Nunchaku_core/TermTyped/index.html#module-type-S">Nunchaku_core.TermTyped.S</a></code></dl><h3 class="heading">Signature</h3><dl><dt class="spec type" id="type-term"><a href="#type-term" class="anchor"></a><code><span class="keyword">type </span>term</code><code><span class="keyword"> = </span><a href="argument-1-T/index.html#type-t">T.t</a></code></dt><dt class="spec type" id="type-env"><a href="#type-env" class="anchor"></a><code><span class="keyword">type </span>env</code></dt></dl><dl><dt class="spec value" id="val-empty_env"><a href="#val-empty_env" class="anchor"></a><code><span class="keyword">val </span>empty_env : <a href="index.html#type-env">env</a></code></dt><dd><p>Make a new, empty environment. The build function will be used to construct new terms</p></dd></dl><dl><dt class="spec value" id="val-convert_ty"><a href="#val-convert_ty" class="anchor"></a><code><span class="keyword">val </span>convert_ty : env:<a href="index.html#type-env">env</a> <span>&#45;&gt;</span> <a href="../../../Nunchaku_core/UntypedAST/index.html#type-ty">Nunchaku_core.UntypedAST.ty</a> <span>&#45;&gt;</span> <a href="index.html#type-term">term</a> <a href="../index.html#type-or_error">or_error</a></code></dt><dd><p><code>convert ~env ty</code> converts the raw, unscoped type <code>ty</code> into a type from the representation <code>Ty.t</code>. It returns an error if the type is ill-scoped.</p></dd></dl><dl><dt class="spec value" id="val-convert_ty_exn"><a href="#val-convert_ty_exn" class="anchor"></a><code><span class="keyword">val </span>convert_ty_exn : env:<a href="index.html#type-env">env</a> <span>&#45;&gt;</span> <a href="../../../Nunchaku_core/UntypedAST/index.html#type-ty">Nunchaku_core.UntypedAST.ty</a> <span>&#45;&gt;</span> <a href="index.html#type-term">term</a></code></dt><dd><dl><dt>raises ScopingError</dt><dd><p>if the type isnT.t well-scoped</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-convert_term"><a href="#val-convert_term" class="anchor"></a><code><span class="keyword">val </span>convert_term : env:<a href="index.html#type-env">env</a> <span>&#45;&gt;</span> <a href="../../../Nunchaku_core/UntypedAST/index.html#type-term">Nunchaku_core.UntypedAST.term</a> <span>&#45;&gt;</span> <a href="index.html#type-term">term</a> <a href="../index.html#type-or_error">or_error</a></code></dt><dd><p><code>convert ~env ty</code> converts the raw, unscoped type <code>ty</code> into a type from the representation <code>Ty.t</code>. It returns an error if the type is ill-scoped.</p></dd></dl><dl><dt class="spec value" id="val-convert_term_exn"><a href="#val-convert_term_exn" class="anchor"></a><code><span class="keyword">val </span>convert_term_exn : env:<a href="index.html#type-env">env</a> <span>&#45;&gt;</span> <a href="../../../Nunchaku_core/UntypedAST/index.html#type-term">Nunchaku_core.UntypedAST.term</a> <span>&#45;&gt;</span> <a href="index.html#type-term">term</a></code></dt><dd><p>Unsafe version of <code>convert</code></p><dl><dt>raises TypeError</dt><dd><p>if it fails to type properly</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-generalize"><a href="#val-generalize" class="anchor"></a><code><span class="keyword">val </span>generalize : close:[ `Forall<span class="keyword"> | </span>`Fun<span class="keyword"> | </span>`NoClose ] <span>&#45;&gt;</span> <a href="index.html#type-term">term</a> <span>&#45;&gt;</span> <a href="index.html#type-term">term</a><span class="keyword"> * </span><a href="index.html#type-term">term</a> <a href="../index.html#type-var">var</a> list</code></dt><dd><p>Generalize a T.t <code>t</code> by parametrizing it over its free <b>type</b> variables.</p><dl><dt>parameter close</dt><dd><p>decides how <code>t</code> is generalized</p><ul><li><code>`Forall</code> makes <code>t' = forall vars t</code></li><li><code>`Fun</code> makes <code>t' = fun vars t</code></li><li><code>`NoClose</code> makes <code>t' = t</code> with meta variables replaced by <code>vars</code></li></ul></dd></dl><dl><dt>returns</dt><dd><p>a pair <code>(t', vars)</code> such that, roughly, <code>app t' vars = t</code>, or <code>t'</code> is <code>forall vars t</code>, or <code>t'</code> contains <code>vars</code></p></dd></dl></dd></dl><dl><dt class="spec type" id="type-statement"><a href="#type-statement" class="anchor"></a><code><span class="keyword">type </span>statement</code><code><span class="keyword"> = </span>(<a href="index.html#type-term">term</a>, <a href="index.html#type-term">term</a>) <a href="../../../Nunchaku_core/Statement/index.html#type-t">Nunchaku_core.Statement.t</a></code></dt></dl><dl><dt class="spec value" id="val-convert_statement"><a href="#val-convert_statement" class="anchor"></a><code><span class="keyword">val </span>convert_statement : env:<a href="index.html#type-env">env</a> <span>&#45;&gt;</span> <a href="../../../Nunchaku_core/UntypedAST/index.html#type-statement">Nunchaku_core.UntypedAST.statement</a> <span>&#45;&gt;</span> (<a href="index.html#type-statement">statement</a><span class="keyword"> * </span><a href="index.html#type-env">env</a>) <a href="../index.html#type-or_error">or_error</a></code></dt><dt class="spec value" id="val-convert_statement_exn"><a href="#val-convert_statement_exn" class="anchor"></a><code><span class="keyword">val </span>convert_statement_exn : env:<a href="index.html#type-env">env</a> <span>&#45;&gt;</span> <a href="../../../Nunchaku_core/UntypedAST/index.html#type-statement">Nunchaku_core.UntypedAST.statement</a> <span>&#45;&gt;</span> <a href="index.html#type-statement">statement</a><span class="keyword"> * </span><a href="index.html#type-env">env</a></code></dt><dd><p>Unsafe version of <code>convert</code></p></dd></dl><dl><dt class="spec type" id="type-problem"><a href="#type-problem" class="anchor"></a><code><span class="keyword">type </span>problem</code><code><span class="keyword"> = </span>(<a href="index.html#type-term">term</a>, <a href="index.html#type-term">term</a>) <a href="../../../Nunchaku_core/Problem/index.html#type-t">Nunchaku_core.Problem.t</a></code></dt></dl><dl><dt class="spec value" id="val-convert_problem"><a href="#val-convert_problem" class="anchor"></a><code><span class="keyword">val </span>convert_problem : env:<a href="index.html#type-env">env</a> <span>&#45;&gt;</span> <a href="../../../Nunchaku_core/UntypedAST/index.html#type-statement">Nunchaku_core.UntypedAST.statement</a> CCVector.ro_vector <span>&#45;&gt;</span> (<a href="index.html#type-problem">problem</a><span class="keyword"> * </span><a href="index.html#type-env">env</a>) <a href="../index.html#type-or_error">or_error</a></code></dt><dt class="spec value" id="val-convert_problem_exn"><a href="#val-convert_problem_exn" class="anchor"></a><code><span class="keyword">val </span>convert_problem_exn : env:<a href="index.html#type-env">env</a> <span>&#45;&gt;</span> <a href="../../../Nunchaku_core/UntypedAST/index.html#type-statement">Nunchaku_core.UntypedAST.statement</a> CCVector.ro_vector <span>&#45;&gt;</span> <a href="index.html#type-problem">problem</a><span class="keyword"> * </span><a href="index.html#type-env">env</a></code></dt></dl></div></body></html>