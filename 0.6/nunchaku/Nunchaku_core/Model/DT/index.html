<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>DT (nunchaku.Nunchaku_core.Model.DT)</title><link rel="stylesheet" href="../../../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../../../index.html">nunchaku</a> &#x00BB; <a href="../../index.html">Nunchaku_core</a> &#x00BB; <a href="../index.html">Model</a> &#x00BB; DT</nav><h1>Module <code>Model.DT</code></h1></header><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type </span>(+'t, +'ty) t</code><code><span class="keyword"> = </span><span class="keyword">private </span></code><table class="variant"><tr id="type-t.Yield" class="anchored"><td class="def constructor"><a href="#type-t.Yield" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Yield</span><span class="keyword"> of </span><span class="type-var">'t</span></code></td></tr><tr id="type-t.Cases" class="anchored"><td class="def constructor"><a href="#type-t.Cases" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Cases</span><span class="keyword"> of </span>(<span class="type-var">'t</span>, <span class="type-var">'ty</span>) <a href="index.html#type-cases">cases</a></code></td></tr></table></dt><dt class="spec type" id="type-cases"><a href="#type-cases" class="anchor"></a><code><span class="keyword">type </span>(+'t, +'ty) cases</code><code><span class="keyword"> = </span></code><code>{</code><table class="record"><tr id="type-cases.var" class="anchored"><td class="def field"><a href="#type-cases.var" class="anchor"></a><code>var : <span class="type-var">'ty</span> <a href="../../Var/index.html#type-t">Var.t</a>;</code></td></tr><tr id="type-cases.tests" class="anchored"><td class="def field"><a href="#type-cases.tests" class="anchor"></a><code>tests : (<span class="type-var">'t</span>, <span class="type-var">'ty</span>) <a href="index.html#type-tests_or_match">tests_or_match</a>;</code></td></tr><tr id="type-cases.default" class="anchored"><td class="def field"><a href="#type-cases.default" class="anchor"></a><code>default : (<span class="type-var">'t</span>, <span class="type-var">'ty</span>) <a href="index.html#type-t">t</a> option;</code></td></tr></table><code>}</code></dt><dt class="spec type" id="type-tests_or_match"><a href="#type-tests_or_match" class="anchor"></a><code><span class="keyword">type </span>('t, 'ty) tests_or_match</code><code><span class="keyword"> = </span></code><table class="variant"><tr id="type-tests_or_match.Tests" class="anchored"><td class="def constructor"><a href="#type-tests_or_match.Tests" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Tests</span><span class="keyword"> of </span>(<span class="type-var">'t</span>, <span class="type-var">'ty</span>) <a href="index.html#type-case">case</a> list</code></td></tr><tr id="type-tests_or_match.Match" class="anchored"><td class="def constructor"><a href="#type-tests_or_match.Match" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Match</span><span class="keyword"> of </span>(<span class="type-var">'ty</span> list<span class="keyword"> * </span><span class="type-var">'ty</span> <a href="../../Var/index.html#type-t">Var.t</a> list<span class="keyword"> * </span>(<span class="type-var">'t</span>, <span class="type-var">'ty</span>) <a href="index.html#type-t">t</a>) <a href="../../../Nunchaku_core__ID/index.html#module-Map">Nunchaku_core.ID.Map</a>.t<span class="keyword"> * </span>int <a href="../../../Nunchaku_core__ID/index.html#module-Map">Nunchaku_core.ID.Map</a>.t</code></td></tr></table></dt><dt class="spec type" id="type-case"><a href="#type-case" class="anchor"></a><code><span class="keyword">type </span>('t, 'ty) case</code><code><span class="keyword"> = </span><span class="type-var">'t</span><span class="keyword"> * </span>(<span class="type-var">'t</span>, <span class="type-var">'ty</span>) <a href="index.html#type-t">t</a></code></dt></dl><dl><dt class="spec value" id="val-yield"><a href="#val-yield" class="anchor"></a><code><span class="keyword">val </span>yield : <span class="type-var">'t</span> <span>&#45;&gt;</span> (<span class="type-var">'t</span>, <span class="type-var">_</span>) <a href="index.html#type-t">t</a></code></dt><dd><p>DT on 0 variables, that returns its argument</p></dd></dl><dl><dt class="spec value" id="val-const"><a href="#val-const" class="anchor"></a><code><span class="keyword">val </span>const : <span class="type-var">'ty</span> <a href="../../Var/index.html#type-t">Var.t</a> list <span>&#45;&gt;</span> (<span class="type-var">'t</span>, <span class="type-var">'ty</span>) <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> (<span class="type-var">'t</span>, <span class="type-var">'ty</span>) <a href="index.html#type-t">t</a></code></dt><dd><p><code>const vars ret</code> is the constant function over <code>vars</code>, that always return <code>ret</code></p></dd></dl><dl><dt class="spec value" id="val-tests_"><a href="#val-tests_" class="anchor"></a><code><span class="keyword">val </span>tests_ : (<span class="type-var">'t</span>, <span class="type-var">'ty</span>) <a href="index.html#type-case">case</a> list <span>&#45;&gt;</span> (<span class="type-var">'t</span>, <span class="type-var">'ty</span>) <a href="index.html#type-tests_or_match">tests_or_match</a></code></dt><dt class="spec value" id="val-match_"><a href="#val-match_" class="anchor"></a><code><span class="keyword">val </span>match_ : missing:int <a href="../../../Nunchaku_core__ID/index.html#module-Map">Nunchaku_core.ID.Map</a>.t <span>&#45;&gt;</span> (<span class="type-var">'ty</span> list<span class="keyword"> * </span><span class="type-var">'ty</span> <a href="../../Var/index.html#type-t">Var.t</a> list<span class="keyword"> * </span>(<span class="type-var">'t</span>, <span class="type-var">'ty</span>) <a href="index.html#type-t">t</a>) <a href="../../../Nunchaku_core__ID/index.html#module-Map">Nunchaku_core.ID.Map</a>.t <span>&#45;&gt;</span> (<span class="type-var">'t</span>, <span class="type-var">'ty</span>) <a href="index.html#type-tests_or_match">tests_or_match</a></code></dt><dt class="spec value" id="val-mk_cases"><a href="#val-mk_cases" class="anchor"></a><code><span class="keyword">val </span>mk_cases : <span class="type-var">'ty</span> <a href="../../Var/index.html#type-t">Var.t</a> <span>&#45;&gt;</span> (<span class="type-var">'t</span>, <span class="type-var">'ty</span>) <a href="index.html#type-tests_or_match">tests_or_match</a> <span>&#45;&gt;</span> default:(<span class="type-var">'t</span>, <span class="type-var">'ty</span>) <a href="index.html#type-t">t</a> option <span>&#45;&gt;</span> (<span class="type-var">'t</span>, <span class="type-var">'ty</span>) <a href="index.html#type-t">t</a></code></dt><dd><dl><dt>raises Invalid_argument</dt><dd><p>if <code>tests= [] &amp;&amp; default = None</code></p></dd></dl></dd></dl><dl><dt class="spec value" id="val-mk_tests"><a href="#val-mk_tests" class="anchor"></a><code><span class="keyword">val </span>mk_tests : <span class="type-var">'ty</span> <a href="../../Var/index.html#type-t">Var.t</a> <span>&#45;&gt;</span> tests:(<span class="type-var">'t</span>, <span class="type-var">'ty</span>) <a href="index.html#type-case">case</a> list <span>&#45;&gt;</span> default:(<span class="type-var">'t</span>, <span class="type-var">'ty</span>) <a href="index.html#type-t">t</a> option <span>&#45;&gt;</span> (<span class="type-var">'t</span>, <span class="type-var">'ty</span>) <a href="index.html#type-t">t</a></code></dt><dd><dl><dt>raises Invalid_argument</dt><dd><p>if <code>tests= [] &amp;&amp; default = None</code></p></dd></dl></dd></dl><dl><dt class="spec value" id="val-mk_match"><a href="#val-mk_match" class="anchor"></a><code><span class="keyword">val </span>mk_match : <span class="type-var">'ty</span> <a href="../../Var/index.html#type-t">Var.t</a> <span>&#45;&gt;</span> by_cstor:(<span class="type-var">'ty</span> list<span class="keyword"> * </span><span class="type-var">'ty</span> <a href="../../Var/index.html#type-t">Var.t</a> list<span class="keyword"> * </span>(<span class="type-var">'t</span>, <span class="type-var">'ty</span>) <a href="index.html#type-t">t</a>) <a href="../../../Nunchaku_core__ID/index.html#module-Map">Nunchaku_core.ID.Map</a>.t <span>&#45;&gt;</span> missing:int <a href="../../../Nunchaku_core__ID/index.html#module-Map">Nunchaku_core.ID.Map</a>.t <span>&#45;&gt;</span> default:(<span class="type-var">'t</span>, <span class="type-var">'ty</span>) <a href="index.html#type-t">t</a> option <span>&#45;&gt;</span> (<span class="type-var">'t</span>, <span class="type-var">'ty</span>) <a href="index.html#type-t">t</a></code></dt><dd><dl><dt>raises Invalid_argument</dt><dd><p>if <code>tests= [] &amp;&amp; default = None</code></p></dd></dl></dd></dl><dl><dt class="spec value" id="val-map_tests_or_match"><a href="#val-map_tests_or_match" class="anchor"></a><code><span class="keyword">val </span>map_tests_or_match : term:(<span class="type-var">'t1</span> <span>&#45;&gt;</span> <span class="type-var">'t2</span>) <span>&#45;&gt;</span> ty:(<span class="type-var">'ty1</span> <span>&#45;&gt;</span> <span class="type-var">'ty2</span>) <span>&#45;&gt;</span> f:((<span class="type-var">'t1</span>, <span class="type-var">'ty1</span>) <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> (<span class="type-var">'t2</span>, <span class="type-var">'ty2</span>) <a href="index.html#type-t">t</a>) <span>&#45;&gt;</span> (<span class="type-var">'t1</span>, <span class="type-var">'ty1</span>) <a href="index.html#type-tests_or_match">tests_or_match</a> <span>&#45;&gt;</span> (<span class="type-var">'t2</span>, <span class="type-var">'ty2</span>) <a href="index.html#type-tests_or_match">tests_or_match</a></code></dt><dt class="spec value" id="val-map"><a href="#val-map" class="anchor"></a><code><span class="keyword">val </span>map : term:(<span class="type-var">'t1</span> <span>&#45;&gt;</span> <span class="type-var">'t2</span>) <span>&#45;&gt;</span> ty:(<span class="type-var">'ty1</span> <span>&#45;&gt;</span> <span class="type-var">'ty2</span>) <span>&#45;&gt;</span> (<span class="type-var">'t1</span>, <span class="type-var">'ty1</span>) <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> (<span class="type-var">'t2</span>, <span class="type-var">'ty2</span>) <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-filter_map"><a href="#val-filter_map" class="anchor"></a><code><span class="keyword">val </span>filter_map : test:(<span class="type-var">'ty</span> <a href="../../Var/index.html#type-t">Var.t</a> <span>&#45;&gt;</span> <span class="type-var">'t1</span> <span>&#45;&gt;</span> <span class="type-var">'t2</span> option) <span>&#45;&gt;</span> yield:(<span class="type-var">'t1</span> <span>&#45;&gt;</span> <span class="type-var">'t2</span>) <span>&#45;&gt;</span> (<span class="type-var">'t1</span>, <span class="type-var">'ty</span>) <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> (<span class="type-var">'t2</span>, <span class="type-var">'ty</span>) <a href="index.html#type-t">t</a></code></dt><dd><p><code>filter_map ~test ~yield dt</code> filters the branches of <code>dt</code> using <code>test v lhs</code> on every test <code>v=lhs</code>, and maps the leaves using <code>yield</code></p></dd></dl><dl><dt class="spec value" id="val-ty_args"><a href="#val-ty_args" class="anchor"></a><code><span class="keyword">val </span>ty_args : (<span class="type-var">_</span>, <span class="type-var">'ty</span>) <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'ty</span> list</code></dt><dd><p>Type of the discrimination tree arguments, seen as a function</p></dd></dl><dl><dt class="spec value" id="val-vars"><a href="#val-vars" class="anchor"></a><code><span class="keyword">val </span>vars : (<span class="type-var">_</span>, <span class="type-var">'ty</span>) <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'ty</span> <a href="../../Var/index.html#type-t">Var.t</a> list</code></dt><dd><p>List of variables decided upon</p></dd></dl><dl><dt class="spec value" id="val-num_vars"><a href="#val-num_vars" class="anchor"></a><code><span class="keyword">val </span>num_vars : (<span class="type-var">_</span>, <span class="type-var">_</span>) <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int</code></dt><dt class="spec value" id="val-add_default"><a href="#val-add_default" class="anchor"></a><code><span class="keyword">val </span>add_default : <span class="type-var">'t</span> <span>&#45;&gt;</span> (<span class="type-var">'t</span>, <span class="type-var">'ty</span>) <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> (<span class="type-var">'t</span>, <span class="type-var">'ty</span>) <a href="index.html#type-t">t</a></code></dt><dd><p><code>add_default term dt</code> adds <code>term</code> as a default case for every sub-case of <code>dt</code> that does not already have a default value</p></dd></dl><dl><dt class="spec type" id="type-flat_test"><a href="#type-flat_test" class="anchor"></a><code><span class="keyword">type </span>('t, 'ty) flat_test</code><code><span class="keyword"> = </span></code><code>{</code><table class="record"><tr id="type-flat_test.ft_var" class="anchored"><td class="def field"><a href="#type-flat_test.ft_var" class="anchor"></a><code>ft_var : <span class="type-var">'ty</span> <a href="../../Var/index.html#type-t">Var.t</a>;</code></td></tr><tr id="type-flat_test.ft_term" class="anchored"><td class="def field"><a href="#type-flat_test.ft_term" class="anchor"></a><code>ft_term : <span class="type-var">'t</span>;</code></td></tr></table><code>}</code></dt><dd><p>A test for the flat model</p></dd></dl><dl><dt class="spec type" id="type-flat_dt"><a href="#type-flat_dt" class="anchor"></a><code><span class="keyword">type </span>('t, 'ty) flat_dt</code><code><span class="keyword"> = </span></code><code>{</code><table class="record"><tr id="type-flat_dt.fdt_vars" class="anchored"><td class="def field"><a href="#type-flat_dt.fdt_vars" class="anchor"></a><code>fdt_vars : <span class="type-var">'ty</span> <a href="../../Var/index.html#type-t">Var.t</a> list;</code></td></tr><tr id="type-flat_dt.fdt_cases" class="anchored"><td class="def field"><a href="#type-flat_dt.fdt_cases" class="anchor"></a><code>fdt_cases : ((<span class="type-var">'t</span>, <span class="type-var">'ty</span>) <a href="index.html#type-flat_test">flat_test</a> list<span class="keyword"> * </span><span class="type-var">'t</span>) list;</code></td></tr><tr id="type-flat_dt.fdt_default" class="anchored"><td class="def field"><a href="#type-flat_dt.fdt_default" class="anchor"></a><code>fdt_default : <span class="type-var">'t</span> option;</code></td></tr></table><code>}</code></dt><dd><p>A flat model</p></dd></dl><dl><dt class="spec value" id="val-mk_flat_test"><a href="#val-mk_flat_test" class="anchor"></a><code><span class="keyword">val </span>mk_flat_test : <span class="type-var">'ty</span> <a href="../../Var/index.html#type-t">Var.t</a> <span>&#45;&gt;</span> <span class="type-var">'t</span> <span>&#45;&gt;</span> (<span class="type-var">'t</span>, <span class="type-var">'ty</span>) <a href="index.html#type-flat_test">flat_test</a></code></dt><dt class="spec value" id="val-of_flat"><a href="#val-of_flat" class="anchor"></a><code><span class="keyword">val </span>of_flat : equal:(<span class="type-var">'t</span> <span>&#45;&gt;</span> <span class="type-var">'t</span> <span>&#45;&gt;</span> bool) <span>&#45;&gt;</span> hash:(<span class="type-var">'t</span> <span>&#45;&gt;</span> int) <span>&#45;&gt;</span> (<span class="type-var">'t</span>, <span class="type-var">'ty</span>) <a href="index.html#type-flat_dt">flat_dt</a> <span>&#45;&gt;</span> (<span class="type-var">'t</span>, <span class="type-var">'ty</span>) <a href="index.html#type-t">t</a></code></dt><dd><p><code>of_flat vars ~tests ~default </code> builds a decision tree on <code>vars</code>, in that order, asssuming <code>tests</code> only range over <code>vars</code>.</p><dl><dt>parameter eq</dt><dd><p>equality on terms</p></dd></dl></dd></dl><dl><dt class="spec exception" id="exception-Unflattenable"><a href="#exception-Unflattenable" class="anchor"></a><code><span class="keyword">exception </span></code><code><span class="exception">Unflattenable</span></code></dt></dl><dl><dt class="spec value" id="val-flatten"><a href="#val-flatten" class="anchor"></a><code><span class="keyword">val </span>flatten : (<span class="type-var">'t</span>, <span class="type-var">'ty</span>) <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> (<span class="type-var">'t</span>, <span class="type-var">'ty</span>) <a href="index.html#type-flat_dt">flat_dt</a></code></dt><dd><p>Flatten as an old style flat decision tree</p><dl><dt>raises Unflattenable</dt><dd><p>if the DT contains unflattenable constructs such as pattern matching</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-check_"><a href="#val-check_" class="anchor"></a><code><span class="keyword">val </span>check_ : (<span class="type-var">_</span>, <span class="type-var">_</span>) <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>check some invariants</p></dd></dl><dl><dt class="spec value" id="val-pp"><a href="#val-pp" class="anchor"></a><code><span class="keyword">val </span>pp : <span class="type-var">'t</span> <a href="../index.html#type-prec_printer">prec_printer</a> <span>&#45;&gt;</span> <span class="type-var">'ty</span> <a href="../index.html#type-printer">printer</a> <span>&#45;&gt;</span> (<span class="type-var">'t</span>, <span class="type-var">'ty</span>) <a href="index.html#type-t">t</a> <a href="../index.html#type-printer">printer</a></code></dt><dt class="spec value" id="val-pp_flat_test"><a href="#val-pp_flat_test" class="anchor"></a><code><span class="keyword">val </span>pp_flat_test : <span class="type-var">'t</span> <a href="../index.html#type-prec_printer">prec_printer</a> <span>&#45;&gt;</span> (<span class="type-var">'t</span>, <span class="type-var">_</span>) <a href="index.html#type-flat_test">flat_test</a> <a href="../index.html#type-printer">printer</a></code></dt><dt class="spec value" id="val-pp_flat"><a href="#val-pp_flat" class="anchor"></a><code><span class="keyword">val </span>pp_flat : <span class="type-var">'t</span> <a href="../index.html#type-prec_printer">prec_printer</a> <span>&#45;&gt;</span> (<span class="type-var">'t</span>, <span class="type-var">_</span>) <a href="index.html#type-flat_dt">flat_dt</a> <a href="../index.html#type-printer">printer</a></code></dt><dt class="spec value" id="val-to_sexp"><a href="#val-to_sexp" class="anchor"></a><code><span class="keyword">val </span>to_sexp : <span class="type-var">'t</span> <a href="../index.html#type-to_sexp">to_sexp</a> <span>&#45;&gt;</span> <span class="type-var">'ty</span> <a href="../index.html#type-to_sexp">to_sexp</a> <span>&#45;&gt;</span> (<span class="type-var">'t</span>, <span class="type-var">'ty</span>) <a href="index.html#type-t">t</a> <a href="../index.html#type-to_sexp">to_sexp</a></code></dt><dd><p>for model display</p></dd></dl></div></body></html>